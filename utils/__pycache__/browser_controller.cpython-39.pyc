a
    \&qhÃ’	  Ã£                   @   s(   d dl Z d dlmZ d dlZddâ€ ZdS )Ã©    N)Ãšsync_playwrightc              	   C   sÃˆ  d}t Æ’ ÂÂÂ¦}tjÂ |Â¡r:tdÆ’ |jjddÂj |dÂ}ntdÆ’ |jjddÂ}|Â  Â¡ }|Â Â¡ } tjÂ |Â¡sÃ²td Æ’ | Â 	dÂ¡ td	Æ’ | Â 
d
|d
 Â¡ | Â 
d|d
 Â¡ | Â 
dÂ¡ z| jdddÂ tdÆ’ W n t
yÃ¤   tdÆ’ Y n0 |j|dÂ td| â€º ÂÆ’ | Â 	| Â¡ zltdÆ’ | jdddÂ | Â 
dÂ¡ tdÆ’ tÂ dÂ¡ z| Â 
d|Â¡ tdÆ’ W n t
Âyr   tdÆ’ Y n0 W n t
Âyâ€™   tdÆ’ Y n0 |Â Â¡  tdÆ’ W d  Æ’ n1 ÂsÂº0    Y  dS ) a  
    Automate the process of applying to a job on LinkedIn.

    Args:
        job_url (str): The URL of the job posting on LinkedIn.
        credentials (dict): Dictionary with 'email' and 'password'.
        cover_letter (str): The cover letter text to use in the application.
    z
state.jsonu+   Ã°Å¸â€Â Using saved session (no login needed).F)Zheadless)Ãš
storage_stateu+   Ã°Å¸â€â€˜ No session found. Logging in manually.u)   Ã°Å¸Å’Â Navigating to LinkedIn login page...zhttps://www.linkedin.com/loginu   Ã°Å¸â€â€˜ Logging in...zinput#usernameÃšemailzinput#passwordÃšpasswordzbutton[type='submit']zinput[placeholder='Search']i'  )Ãš timeoutu   Ã¢Å“â€¦ Login successful!u8   Ã¢ÂÅ’ Login may have failed. Check credentials or CAPTCHA.)Ãšpathu   Ã°Å¸â€Å½ Opening job URL: u'   Ã°Å¸ÂªÂª Waiting for 'Easy Apply' button...zbutton.jobs-apply-buttonu    Ã¢Å“â€¦ 'Easy Apply' button clicked.Ã©   ztextarea[name="coverLetter"]u   Ã¢Å“â€¦ Cover letter filled.u3   Ã¢Å¡Â Ã¯Â¸Â No cover letter field found or not required.uA   Ã¢Å¡Â Ã¯Â¸Â Could not find 'Easy Apply' button or job already applied.u   Ã°Å¸â€â€™ Browser closed.N)r   Ãšosr    ÃšexistsÃšprintZchromiumZlaunchZ
new_contextZnew_pageZgotoÃšfillZclickZwait_for_selectorÃš	Exceptionr   ÃštimeÃšsleepÃšclose)Ãš job_urlÃš
credentialsÃšcover_letterZ
state_pathÃšpÃš contextZ browserÃšpageÂ© r   Ãº.D:\AI\ai_assistant\utils\browser_controller.pyÃšapply_to_job_linkedin    sN    






r   )r	   Zplaywright.sync_apir   r   r   r   r   r   r   Ãš<module>   s   
